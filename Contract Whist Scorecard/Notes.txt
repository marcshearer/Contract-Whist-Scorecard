List of current versions
------------------------

master                              safe version (5.1(2)) to go back to if subsequent versions become unstable

feature/network-abstraction         tidy up of network abstraction layer
feature/restructure-spring-2020     major rewrite of UI and classes

release/5.1                         master plus feature/network-abstraction

List of outstanding things to do

Changes since last version
--------------------------
Fixed crash during sync (especially initial sync)
Fixed problem if tried to view after game had started - did not receive scores
Reinstated back button in score entry
Resuming goes into scorecard rather than resuming online game
Show average score in players
Show more info on iPad in players
Notification gives the wrong winner
Avoid spurious Resume Online Game messages
Last hand not shown when return from scorecard after its become your turn
Crash towards end of game where player has fewer cards than others
New backup option
When don't have online enabled doesn't seem to auto select nearby in hosting
Don't seem to clear resumed game properly on slaves - when start new game seemed to go back to interrupted game
When resume doesn't auto select device
Allows you to bid the number left if you re-bid or sometimes if you go into extended view
Make debug info available on production
Reduce wait before play card after bidding
Show over / under in hand
Send round in handState
Sort out text entry in confirm count (or block it)
Can't see over/under on iPhone 5S
Can choose bid which adds up to total - seemed to be when 1 less than <
Add shake handler to review view controller
Add connection info to nearby and change it from debug to and alertMessage in rabbit

4.1(2) ---------
Better reconnection for online games including 10 second refresh in client
FaceTime call support

4.1(3) ---------
Avoid blue lines in player search
Leave selected invitees selected (and visible) when filtering

4.1 (5) ---------
Fixed crash when searching for players

4.1 (7) ---------
Reinstated version in settings
Got simulated notifications working again (wait for RabbitMQUri to be set up)
Connect correctly after accepting notification

4.1 (8) ---------
Avoid being locked in once accept notification for game
Stop timer when exit client
Show players name rather than device for online games
Avoid accessing AppDelegate not on main thread

4.6 (1) ----------
More reliable communication in internet game

4.6 (2) ----------
Avoid current trick being sorted and hence wrong player having wrong card after a resume

4.6 (3) ----------
Shake now sends refresh (or requests refresh) rather than resetting network

4.6 (4-5) ----------
Fix missing watch icons and remember last hand over recovery

4.6 (6-8) --------
iPhone X support
Setting to show status bar

4.6 (9) -----------
Enable user interaction on labels in search
Change the way downloading of users works
Access to download/add users in Players and online game
Change color of online image to match bluetooth	
Renamed various components

4.6 (10-11) -------
Restructured client/server
Introduced whispers for network errors
Better error handling for rabbitMQ

4.6 (12) -------
Multi-peer logging

4.6 (15) -------
Allow player detail to scroll in display mode
Avoid blank location for online games
Pull down pictures more reliably
Disconnect and reconnect on shake from client

4.6 (16)
Improve connection by implementing certificate received

5.0 (1)
New UI

5.0 (2)
White status icons
Improved sync timings
Change red in W to room interior in scorepad/entry
Totals in scorepad bold
Blank thumbnail if remove several players from selection quickly (lock interaction while animating)
Blue text in location
Move last played closer to location and make dark gray as opposed to black
Separator line colour to background in location
Line between nav bar and summary in location
Add / remove player when rotated crashes
Move suit down in Round Summary
Defaults back if change 'Play As' and then go back in
Stretch on High Scores on iPhone X
Show games in high scores streak when drill
Tidied up high scores view (especially scroll)
Added win streak to player detail
New Game Summary view (in WhatsApp)
Changed override settings background
Reduce size of NT in round summary and change colour of NT to black

5.0 (3)
Changed red padding to yellow in override settings
Tidied up game summary when rotated
Got rid of funny red border when enabling/changing online games player
Change the W to Continue Button color
Change the transition to entry from scorecard
Can remove self manually in online game after select / deselect other players
Arrows in high scores not consistent left-right
Mix up if go into game repeatedly with players not in order
Increased totals font in scorepad

5.0 (4)
Avoid half of continue button being inactive in preview after cut for dealer
Avoid exit button being hidden in scorepad when start a new game after finishing a game
Allow autoplay to start immediately even if not host to play
Avoid crash if host a game when player is not the same as the 'self' player from previous game
Hide scorecard button when syncing in game summary
Thumbnail pictures seem to disappear (on host?)
Doesn't automatically restart game after recovery as host
When return to home after nearby game clients show "Connected to..."
Flashing reminder after n seconds when your turn
When resume client don't show hosting options and better 'no service' message and don't allow change player or show other hosts

5.0 (5)
Better logging
Better alerts
Fixed crash on entry in client
Black text in hand title
Hand jumps on entry - set to wrong size before layout

5.0 (6-7)
View game change player button
Stop playing icon
Home button in win streak detail
Background color of location from history -> Yellow
Don't flash start button on entry to preview - actually got rid of bounce!
Always show override button in preview
Make drag view just the disc
Disconnect option for host in game preview?
Avoid re-deal if crash before first deal
Color of bid tiles
Totals in landscape moved down slightly
Tidied up button sizes in entry
Show dp in stats
Gradient totals of scorecard to tableTop in landscape
Color of thumbnails to reflect surroundings

5.0 (8)
Line up table tops in selection and game preview
Improve reconnection
Better animation of game preview

5.0 (9)
Fix deal bugs

5.0 (10-11)
Drill not rotating right (wrong number of values)
Drill not hitting the right value in graph
Added crown to game summary

5.1 (0-2)
Stability fixes

Bugs fix now
------------
Problem with syncing. If sync then last sync date updated, but if someone else syncs at same time could drop it. Think fixed by backdating last sync 1 hour
Refresh always leaves "last trick" disabled
Resume game doesn't seem to work during bidding phase - dealer gets out of line
Tiles in selection flow under tabletop

Short-term
----------
Should re-send invitation from host
Make admin rotate options less available
Add tests for temporary settings
Add tests for history / location to check they're not saved if play a game
Auto-sync when download players in Get Started
Update Walkthrough - esp online game
Resume scoring doesn't auto start in preview

TODO
----
Looks like it is still in recovery mode even when play game and override warning
Problem if reset when in confirm window
Add confetti to game summary
Implement Facetime calls
Initial connection difficult

Jack
----

Medium-term
-----------

Long-term
---------
Sort out constraints when in landscape mode

Swift Gotchas / hints
---------------------
Now in OneNote
